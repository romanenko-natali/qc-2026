# –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞ —Ä–æ–±–æ—Ç–∞ ‚Ññ4
## API-—Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

**–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ –æ—Ü—ñ–Ω–∫–∞:** 20 –±–∞–ª—ñ–≤

### –ú–µ—Ç–∞ —Ä–æ–±–æ—Ç–∏

–ù–∞–≤—á–∏—Ç–∏—Å—è —Ç–µ—Å—Ç—É–≤–∞—Ç–∏ REST API –≤—Ä—É—á–Ω—É –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é Postman —Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑—É–≤–∞—Ç–∏ API-—Ç–µ—Å—Ç–∏ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –∫–æ–¥—É.

### –ü—Ä–µ–¥–º–µ—Ç–Ω–∞ –æ–±–ª–∞—Å—Ç—å

–í–∏ –ø—Ä–æ–¥–æ–≤–∂—É—î—Ç–µ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ —Å–∏—Å—Ç–µ–º–æ—é —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Ä–æ–∑–∫–ª–∞–¥–æ–º.

API-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –¥–æ—Å—Ç—É–ø–Ω–∞ –∑–∞ –∞–¥—Ä–µ—Å–æ—é: http://fmi-schedule.chnu.edu.ua/swagger-ui/index.html

### –í–∏–±—ñ—Ä —Ç—Ä–µ–∫—É

| –¢—Ä–µ–∫ | Postman | –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—è |
|------|---------|---------------|
| **JavaScript** | Postman + Newman | Jest + axios |
| **Java** | Postman + Newman | REST Assured + Gradle |

Postman-—á–∞—Å—Ç–∏–Ω–∞ –æ–¥–Ω–∞–∫–æ–≤–∞ –¥–ª—è –æ–±–æ—Ö —Ç—Ä–µ–∫—ñ–≤.

---

## –í–∞—Ä—ñ–∞–Ω—Ç–∏ –∑–∞–≤–¥–∞–Ω—å

–ö–æ–∂–µ–Ω –≤–∞—Ä—ñ–∞–Ω—Ç –º–∞—î **–æ—Å–Ω–æ–≤–Ω–∏–π —Ä–µ—Å—É—Ä—Å** (–ø–æ–≤–Ω–∏–π CRUD) —Ç–∞ **–¥–æ–¥–∞—Ç–∫–æ–≤–∏–π —Ä–µ—Å—É—Ä—Å** (—Å–∫–ª–∞–¥–Ω—ñ—à–∏–π, —ñ–∑ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—è–º–∏ –≤—ñ–¥ —ñ–Ω—à–∏—Ö —Å—É—Ç–Ω–æ—Å—Ç–µ–π):

| –í–∞—Ä—ñ–∞–Ω—Ç | –û—Å–Ω–æ–≤–Ω–∏–π —Ä–µ—Å—É—Ä—Å | –î–æ–¥–∞—Ç–∫–æ–≤–∏–π —Ä–µ—Å—É—Ä—Å |
|---------|----------------|-------------------|
| 1 | Class | Lesson |
| 2 | Department | Schedule |
| 3 | Group | Semester |
| 4 | RoomType | Lesson |
| 5 | Room | Schedule |
| 6 | Student | Semester |
| 7 | Subject | Lesson |
| 8 | Room | Schedule |

- **–û—Å–Ω–æ–≤–Ω–∏–π —Ä–µ—Å—É—Ä—Å** ‚Äî –ø—Ä–æ—Å—Ç–∏–π CRUD –±–µ–∑ —Å–∫–ª–∞–¥–Ω–∏—Ö –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π.
- **–î–æ–¥–∞—Ç–∫–æ–≤–∏–π —Ä–µ—Å—É—Ä—Å** (Lesson, Schedule, Semester) ‚Äî –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ —ñ–Ω—à–∏—Ö —Å—É—Ç–Ω–æ—Å—Ç–µ–π, —Ç–æ–º—É –ø–æ—Ç—Ä–µ–±—É—î –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–≥–æ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–æ–≤'—è–∑–∞–Ω–∏—Ö –¥–∞–Ω–∏—Ö –∞–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –≤–∂–µ —ñ—Å–Ω—É—é—á–∏—Ö.

---

## –ß–∞—Å—Ç–∏–Ω–∞ 1: Postman (10 –±–∞–ª—ñ–≤)

### –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞

1. –ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ Postman: https://www.postman.com/downloads/
2. –°—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤–∏–π Workspace –¥–ª—è –ø—Ä–æ—î–∫—Ç—É
3. –°—Ç–≤–æ—Ä—ñ—Ç—å Environment `schedule-local`:
   - `baseUrl`: `http://localhost:8080`
   - –î–æ–¥–∞—Ç–∫–æ–≤—ñ –∑–º—ñ–Ω–Ω—ñ –¥–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è ID —Å—Ç–≤–æ—Ä–µ–Ω–∏—Ö —Ä–µ—Å—É—Ä—Å—ñ–≤ (–∑–∞–ø–æ–≤–Ω—è—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç–∏)

### –ó–∞–≤–¥–∞–Ω–Ω—è 1.1: –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–æ–ª–µ–∫—Ü—ñ—ó (4 –±–∞–ª–∏)

–°—Ç–≤–æ—Ä—ñ—Ç—å –∫–æ–ª–µ–∫—Ü—ñ—é `Schedule API Tests` –∑ —Ç–∞–∫–æ—é —Å—Ç—Ä—É–∫—Ç—É—Ä–æ—é:

```
Schedule API Tests/
‚îú‚îÄ‚îÄ {–û—Å–Ω–æ–≤–Ω–∏–π —Ä–µ—Å—É—Ä—Å}/
‚îÇ   ‚îú‚îÄ‚îÄ GET All
‚îÇ   ‚îú‚îÄ‚îÄ GET by ID
‚îÇ   ‚îú‚îÄ‚îÄ POST Create
‚îÇ   ‚îú‚îÄ‚îÄ PUT Update
‚îÇ   ‚îú‚îÄ‚îÄ DELETE
‚îÇ   ‚îî‚îÄ‚îÄ GET Non-existing (404)
‚îú‚îÄ‚îÄ {–î–æ–¥–∞—Ç–∫–æ–≤–∏–π —Ä–µ—Å—É—Ä—Å}/
‚îÇ   ‚îú‚îÄ‚îÄ GET All
‚îÇ   ‚îú‚îÄ‚îÄ GET by ID
‚îÇ   ‚îú‚îÄ‚îÄ POST Create
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îî‚îÄ‚îÄ ...
```

**–í–∏–º–æ–≥–∏:**
- –ú—ñ–Ω—ñ–º—É–º 3 –ø–∞–ø–∫–∏ (entities)
- –ú—ñ–Ω—ñ–º—É–º 10 –∑–∞–ø–∏—Ç—ñ–≤ –∑–∞–≥–∞–ª–æ–º
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `{{baseUrl}}` –∑–∞–º—ñ—Å—Ç—å —Ö–∞—Ä–¥–∫–æ–¥—É URL

<details>
<summary><strong>üìã –ü—Ä–∏–∫–ª–∞–¥: –∑–∞–ø–∏—Ç–∏ –¥–ª—è Teachers</strong></summary>

**GET All Teachers:**
- Method: `GET`
- URL: `{{baseUrl}}/api/teachers`

**GET Teacher by ID:**
- Method: `GET`
- URL: `{{baseUrl}}/api/teachers/{{teacherId}}`

**POST Create Teacher:**
- Method: `POST`
- URL: `{{baseUrl}}/api/teachers`
- Body (JSON):
```json
{
    "name": "{{teacherName}}",
    "surname": "{{teacherSurname}}",
    "patronymic": "{{teacherPatronymic}}",
    "position": "{{teacherPosition}}"
}
```

**PUT Update Teacher:**
- Method: `PUT`
- URL: `{{baseUrl}}/api/teachers/{{teacherId}}`
- Body ‚Äî –∞–Ω–∞–ª–æ–≥—ñ—á–Ω–∏–π POST, –∞–ª–µ –∑—ñ –∑–º—ñ–Ω–µ–Ω–∏–º–∏ –¥–∞–Ω–∏–º–∏

**DELETE Teacher:**
- Method: `DELETE`
- URL: `{{baseUrl}}/api/teachers/{{teacherId}}`

</details>

### –ó–∞–≤–¥–∞–Ω–Ω—è 1.2: –ù–∞–ø–∏—Å–∞–Ω–Ω—è —Ç–µ—Å—Ç—ñ–≤ —É Postman (4 –±–∞–ª–∏)

–î–æ–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–∏ –¥–æ –∫–æ–∂–Ω–æ–≥–æ –∑–∞–ø–∏—Ç—É —É –≤–∫–ª–∞–¥—Ü—ñ "Scripts ‚Üí Post-response".

**–í–∏–º–æ–≥–∏:**
- –ö–æ–∂–µ–Ω –∑–∞–ø–∏—Ç –º–∞—î –º—ñ–Ω—ñ–º—É–º 2 —Ç–µ—Å—Ç–∏
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ environment variables –¥–ª—è –ø–µ—Ä–µ–¥–∞—á—ñ –¥–∞–Ω–∏—Ö –º—ñ–∂ –∑–∞–ø–∏—Ç–∞–º–∏
- –í–∫–ª—é—á—ñ—Ç—å –Ω–µ–≥–∞—Ç–∏–≤–Ω—ñ —Ç–µ—Å—Ç–∏ (404, 400)

<details>
<summary><strong>üìã –ü—Ä–∏–∫–ª–∞–¥: —Ç–µ—Å—Ç–∏ –¥–ª—è GET All</strong></summary>

```javascript
pm.test("Status code is 200", () => {
    pm.response.to.have.status(200);
});

pm.test("Response is an array", () => {
    const json = pm.response.json();
    pm.expect(json).to.be.an('array');
});

pm.test("Response time is less than 500ms", () => {
    pm.expect(pm.response.responseTime).to.be.below(500);
});

pm.test("Each item has required fields", () => {
    const json = pm.response.json();
    if (json.length > 0) {
        pm.expect(json[0]).to.have.property('id');
        pm.expect(json[0]).to.have.property('name');
    }
});
```

</details>

<details>
<summary><strong>üìã –ü—Ä–∏–∫–ª–∞–¥: —Ç–µ—Å—Ç–∏ –¥–ª—è POST Create</strong></summary>

```javascript
pm.test("Status code is 201", () => {
    pm.response.to.have.status(201);
});

pm.test("Response contains created resource", () => {
    const json = pm.response.json();
    pm.expect(json).to.have.property('id');
    pm.expect(json.name).to.eql(pm.environment.get("resourceName"));
});

// –ó–±–µ—Ä—ñ–≥–∞—î–º–æ ID –¥–ª—è –Ω–∞—Å—Ç—É–ø–Ω–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤
if (pm.response.code === 201) {
    pm.environment.set("resourceId", pm.response.json().id);
}
```

</details>

<details>
<summary><strong>üìã –ü—Ä–∏–∫–ª–∞–¥: —Ç–µ—Å—Ç–∏ –¥–ª—è GET by ID, DELETE, –Ω–µ–≥–∞—Ç–∏–≤–Ω–∏—Ö —Å—Ü–µ–Ω–∞—Ä—ñ—ó–≤</strong></summary>

**GET by ID:**
```javascript
pm.test("Status code is 200", () => {
    pm.response.to.have.status(200);
});

pm.test("Returns correct resource", () => {
    const json = pm.response.json();
    const expectedId = parseInt(pm.environment.get("resourceId"));
    pm.expect(json.id).to.eql(expectedId);
});
```

**DELETE:**
```javascript
pm.test("Status code is 200 or 204", () => {
    pm.expect(pm.response.code).to.be.oneOf([200, 204]);
});
```

**–ù–µ–≥–∞—Ç–∏–≤–Ω–∏–π —Ç–µ—Å—Ç ‚Äî GET –Ω–µ—ñ—Å–Ω—É—é—á–æ–≥–æ —Ä–µ—Å—É—Ä—Å—É:**
```javascript
pm.test("Status code is 404", () => {
    pm.response.to.have.status(404);
});
```

</details>

### –ó–∞–≤–¥–∞–Ω–Ω—è 1.3: Pre-request Scripts —Ç–∞ —Ç–µ—Å—Ç–æ–≤—ñ –¥–∞–Ω—ñ (2 –±–∞–ª–∏)

–í–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ Pre-request Scripts –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó —Ç–µ—Å—Ç–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö.

**–í–∏–º–æ–≥–∏:**
- –ù–∞–ª–∞—à—Ç—É–π—Ç–µ Pre-request Script –¥–ª—è POST-–∑–∞–ø–∏—Ç—ñ–≤
- –î–∞–Ω—ñ –º–∞—é—Ç—å –±—É—Ç–∏ —É–Ω—ñ–∫–∞–ª—å–Ω–∏–º–∏ (–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ timestamp –∞–±–æ random)

<details>
<summary><strong>üìã –ü—Ä–∏–∫–ª–∞–¥: Pre-request Script</strong></summary>

**Pre-request Script (–≤–∫–ª–∞–¥–∫–∞ "Scripts ‚Üí Pre-request"):**
```javascript
const timestamp = Date.now();
pm.environment.set("teacherName", "Test");
pm.environment.set("teacherSurname", "Teacher_" + timestamp);
pm.environment.set("teacherPatronymic", "Testovich");
pm.environment.set("teacherPosition", "–¥–æ—Ü–µ–Ω—Ç");
```

**Body –∑–∞–ø–∏—Ç—É:**
```json
{
    "name": "{{teacherName}}",
    "surname": "{{teacherSurname}}",
    "patronymic": "{{teacherPatronymic}}",
    "position": "{{teacherPosition}}"
}
```

</details>

### –ï–∫—Å–ø–æ—Ä—Ç –∫–æ–ª–µ–∫—Ü—ñ—ó

1. –ï–∫—Å–ø–æ—Ä—Ç—É–π—Ç–µ –∫–æ–ª–µ–∫—Ü—ñ—é: Collection ‚Üí Export ‚Üí Collection v2.1
2. –ï–∫—Å–ø–æ—Ä—Ç—É–π—Ç–µ environment: Environment ‚Üí Export
3. –ó–±–µ—Ä–µ–∂—ñ—Ç—å —Ñ–∞–π–ª–∏ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π:
   - `tests/api/postman/Schedule_API_Tests.postman_collection.json`
   - `tests/api/postman/schedule-local.postman_environment.json`

---

## –ß–∞—Å—Ç–∏–Ω–∞ 2: –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—è (10 –±–∞–ª—ñ–≤)

–ê–≤—Ç–æ–º–∞—Ç–∏–∑—É–π—Ç–µ —Ç–µ—Å—Ç–∏ –∑ –ß–∞—Å—Ç–∏–Ω–∏ 1 –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –∫–æ–¥—É. –¢–µ—Å—Ç–∏ –º–∞—é—Ç—å –ø–æ–∫—Ä–∏–≤–∞—Ç–∏ —Ç—ñ –∂ —Ä–µ—Å—É—Ä—Å–∏, —â–æ –π Postman-–∫–æ–ª–µ–∫—Ü—ñ—è.

### –ó–∞–≤–¥–∞–Ω–Ω—è 2.1: CRUD-—Ç–µ—Å—Ç–∏ –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ä–µ—Å—É—Ä—Å—É (5 –±–∞–ª—ñ–≤)

–ù–∞–ø–∏—à—ñ—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏–∑–æ–≤–∞–Ω—ñ —Ç–µ—Å—Ç–∏ –¥–ª—è –ø–æ–≤–Ω–æ–≥–æ CRUD-—Ü–∏–∫–ª—É **–æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ä–µ—Å—É—Ä—Å—É** –≤–∞—à–æ–≥–æ –≤–∞—Ä—ñ–∞–Ω—Ç—É:

- GET all ‚Äî –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Å–ø–∏—Å–∫—É
- GET by ID ‚Äî –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –∑–∞ —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä–æ–º
- POST create ‚Äî —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–æ–≤–æ–≥–æ —Ä–µ—Å—É—Ä—Å—É
- PUT update ‚Äî –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—É
- DELETE ‚Äî –≤–∏–¥–∞–ª–µ–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—É
- –ù–µ–≥–∞—Ç–∏–≤–Ω—ñ —Å—Ü–µ–Ω–∞—Ä—ñ—ó: 400 (–Ω–µ–≤–∞–ª—ñ–¥–Ω—ñ –¥–∞–Ω—ñ), 404 (–Ω–µ—ñ—Å–Ω—É—é—á–∏–π —Ä–µ—Å—É—Ä—Å)

**–í–∏–º–æ–≥–∏:**
- –ú—ñ–Ω—ñ–º—É–º 8 —Ç–µ—Å—Ç—ñ–≤
- –í–∫–ª—é—á—ñ—Ç—å –ø–æ–∑–∏—Ç–∏–≤–Ω—ñ —Ç–∞ –Ω–µ–≥–∞—Ç–∏–≤–Ω—ñ —Å—Ü–µ–Ω–∞—Ä—ñ—ó
- –¢–µ—Å—Ç–∏ –º–∞—é—Ç—å –±—É—Ç–∏ –Ω–µ–∑–∞–ª–µ–∂–Ω–∏–º–∏ (–∞–±–æ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏—Å—è –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É –ø–æ—Ä—è–¥–∫—É)
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —â–æ –ø—ñ—Å–ª—è DELETE —Ä–µ—Å—É—Ä—Å –¥—ñ–π—Å–Ω–æ –ø–æ–≤–µ—Ä—Ç–∞—î 404

### –ó–∞–≤–¥–∞–Ω–Ω—è 2.2: –¢–µ—Å—Ç–∏ –¥–ª—è –¥–æ–¥–∞—Ç–∫–æ–≤–æ–≥–æ —Ä–µ—Å—É—Ä—Å—É (3 –±–∞–ª–∏)

–ù–∞–ø–∏—à—ñ—Ç—å —Ç–µ—Å—Ç–∏ –¥–ª—è **–¥–æ–¥–∞—Ç–∫–æ–≤–æ–≥–æ —Ä–µ—Å—É—Ä—Å—É** –≤–∞—à–æ–≥–æ –≤–∞—Ä—ñ–∞–Ω—Ç—É. –û—Å–∫—ñ–ª—å–∫–∏ –¥–æ–¥–∞—Ç–∫–æ–≤—ñ —Ä–µ—Å—É—Ä—Å–∏ (Lesson, Schedule, Semester) –∑–∞–ª–µ–∂–∞—Ç—å –≤—ñ–¥ —ñ–Ω—à–∏—Ö —Å—É—Ç–Ω–æ—Å—Ç–µ–π, —Ç–µ—Å—Ç–∏ –º–∞—é—Ç—å –≤—Ä–∞—Ö–æ–≤—É–≤–∞—Ç–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–æ–≤'—è–∑–∞–Ω–∏—Ö –¥–∞–Ω–∏—Ö.

**–í–∏–º–æ–≥–∏:**
- –ú—ñ–Ω—ñ–º—É–º 5 —Ç–µ—Å—Ç—ñ–≤
- –ü–æ–∫—Ä–∏–π—Ç–µ –æ—Å–Ω–æ–≤–Ω—ñ endpoints (GET all, GET by ID, POST create)
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –≤–∞–ª—ñ–¥–∞—Ü—ñ—é –∑–≤'—è–∑–∫—ñ–≤ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è Lesson –±–µ–∑ –≤–∫–∞–∑–∞–Ω–æ–≥–æ Teacher)

### –ó–∞–≤–¥–∞–Ω–Ω—è 2.3: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –¥–∞–Ω–∏—Ö —É –ë–î (2 –±–∞–ª–∏)

–î–æ–¥–∞–π—Ç–µ –ø–µ—Ä–µ–≤—ñ—Ä–∫—É –¥–∞–Ω–∏—Ö —É –±–∞–∑—ñ –¥–∞–Ω–∏—Ö –ø—ñ—Å–ª—è API-–æ–ø–µ—Ä–∞—Ü—ñ–π.

<details>
<summary><strong>üìã –ü—Ä–∏–∫–ª–∞–¥: JavaScript (pg)</strong></summary>

```javascript
const { Pool } = require('pg');

const pool = new Pool({
    connectionString: process.env.DATABASE_URL
});

it('should save resource to database', async () => {
    const response = await api.post('/api/teachers', newTeacher);
    const teacherId = response.data.id;

    const result = await pool.query(
        'SELECT * FROM teachers WHERE id = $1',
        [teacherId]
    );

    expect(result.rows.length).toBe(1);
    expect(result.rows[0].name).toBe(newTeacher.name);
});
```

</details>

<details>
<summary><strong>üìã –ü—Ä–∏–∫–ª–∞–¥: Java (JdbcTemplate)</strong></summary>

```java
@Autowired
private JdbcTemplate jdbcTemplate;

@Test
void shouldSaveTeacherToDatabase() {
    Integer id = given()
        .contentType(ContentType.JSON)
        .body(teacherJson)
        .when()
            .post("/api/teachers")
        .then()
            .statusCode(201)
        .extract()
            .path("id");

    String name = jdbcTemplate.queryForObject(
        "SELECT name FROM teachers WHERE id = ?",
        String.class,
        id
    );

    assertEquals("Test", name);
}
```

</details>

---

### –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ç–∞ –ø–æ–≤–Ω–∏–π –ø—Ä–∏–∫–ª–∞–¥ –∑–∞ —Ç—Ä–µ–∫–∞–º–∏

<details>
<summary><strong>üìã –¢—Ä–µ–∫ JavaScript: Jest + axios ‚Äî –ø—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ç–∞ –ø—Ä–∏–∫–ª–∞–¥ —Ç–µ—Å—Ç—ñ–≤</strong></summary>

#### –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞

```bash
npm install --save-dev axios jest
```

#### –ü—Ä–∏–∫–ª–∞–¥ —Ñ–∞–π–ª—É `tests/api/teachers.api.test.js`

```javascript
const axios = require('axios');

const API_URL = process.env.API_URL || 'http://localhost:8080';
const api = axios.create({
    baseURL: API_URL,
    timeout: 5000,
});

describe('Teachers API', () => {
    let createdTeacherId;

    describe('GET /api/teachers', () => {
        it('should return list of teachers', async () => {
            const response = await api.get('/api/teachers');

            expect(response.status).toBe(200);
            expect(Array.isArray(response.data)).toBe(true);
        });

        it('should return teachers with required fields', async () => {
            const response = await api.get('/api/teachers');

            if (response.data.length > 0) {
                expect(response.data[0]).toHaveProperty('id');
                expect(response.data[0]).toHaveProperty('name');
                expect(response.data[0]).toHaveProperty('surname');
            }
        });
    });

    describe('POST /api/teachers', () => {
        it('should create a new teacher', async () => {
            const newTeacher = {
                name: 'Test',
                surname: `Teacher_${Date.now()}`,
                patronymic: 'Testovich',
                position: '–¥–æ—Ü–µ–Ω—Ç',
            };

            const response = await api.post('/api/teachers', newTeacher);

            expect(response.status).toBe(201);
            expect(response.data).toHaveProperty('id');
            expect(response.data.name).toBe(newTeacher.name);

            createdTeacherId = response.data.id;
        });

        it('should return 400 for invalid data', async () => {
            const invalidTeacher = { name: '' };

            await expect(api.post('/api/teachers', invalidTeacher))
                .rejects.toMatchObject({
                    response: { status: 400 }
                });
        });
    });

    describe('GET /api/teachers/:id', () => {
        it('should return teacher by id', async () => {
            const response = await api.get(`/api/teachers/${createdTeacherId}`);

            expect(response.status).toBe(200);
            expect(response.data.id).toBe(createdTeacherId);
        });

        it('should return 404 for non-existing teacher', async () => {
            await expect(api.get('/api/teachers/999999'))
                .rejects.toMatchObject({
                    response: { status: 404 }
                });
        });
    });

    describe('PUT /api/teachers/:id', () => {
        it('should update teacher', async () => {
            const updated = {
                name: 'Updated',
                surname: 'Teacher',
                patronymic: 'Testovich',
                position: '–ø—Ä–æ—Ñ–µ—Å–æ—Ä',
            };

            const response = await api.put(
                `/api/teachers/${createdTeacherId}`, updated
            );

            expect(response.status).toBe(200);
            expect(response.data.position).toBe('–ø—Ä–æ—Ñ–µ—Å–æ—Ä');
        });
    });

    describe('DELETE /api/teachers/:id', () => {
        it('should delete teacher', async () => {
            const response = await api.delete(
                `/api/teachers/${createdTeacherId}`
            );
            expect([200, 204]).toContain(response.status);
        });

        it('should return 404 after deletion', async () => {
            await expect(api.get(`/api/teachers/${createdTeacherId}`))
                .rejects.toMatchObject({
                    response: { status: 404 }
                });
        });
    });
});
```

#### –ó–∞–ø—É—Å–∫

```bash
npm test -- tests/api/
```

</details>

<details>
<summary><strong>üìã –¢—Ä–µ–∫ Java: REST Assured + Gradle ‚Äî –ø—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ç–∞ –ø—Ä–∏–∫–ª–∞–¥ —Ç–µ—Å—Ç—ñ–≤</strong></summary>

#### –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞

–î–æ–¥–∞–π—Ç–µ –≤ `build.gradle`:

```gradle
dependencies {
    testImplementation 'io.rest-assured:rest-assured:5.3.0'
    testImplementation 'org.junit.jupiter:junit-jupiter:5.10.0'
}

test {
    useJUnitPlatform()
}
```

#### –ü—Ä–∏–∫–ª–∞–¥ —Ñ–∞–π–ª—É `src/test/java/.../TeachersApiTest.java`

```java
import io.restassured.RestAssured;
import io.restassured.http.ContentType;
import org.junit.jupiter.api.*;
import java.util.List;
import static io.restassured.RestAssured.*;
import static org.hamcrest.Matchers.*;

@TestMethodOrder(MethodOrderer.OrderAnnotation.class)
@DisplayName("Teachers API Tests")
class TeachersApiTest {

    private static Integer createdTeacherId;

    @BeforeAll
    static void setup() {
        RestAssured.baseURI = "http://localhost:8080";
    }

    @Nested
    @DisplayName("GET /api/teachers")
    class GetAllTeachers {

        @Test
        @DisplayName("Should return list of teachers")
        void shouldReturnListOfTeachers() {
            given()
                .when()
                    .get("/api/teachers")
                .then()
                    .statusCode(200)
                    .body("$", instanceOf(List.class));
        }

        @Test
        @DisplayName("Should return teachers with required fields")
        void shouldReturnTeachersWithRequiredFields() {
            given()
                .when()
                    .get("/api/teachers")
                .then()
                    .statusCode(200)
                    .body("[0].id", notNullValue())
                    .body("[0].name", notNullValue())
                    .body("[0].surname", notNullValue());
        }
    }

    @Nested
    @DisplayName("POST /api/teachers")
    @TestMethodOrder(MethodOrderer.OrderAnnotation.class)
    class CreateTeacher {

        @Test
        @Order(1)
        @DisplayName("Should create a new teacher")
        void shouldCreateNewTeacher() {
            String requestBody = """
                {
                    "name": "Test",
                    "surname": "Teacher_%d",
                    "patronymic": "Testovich",
                    "position": "–¥–æ—Ü–µ–Ω—Ç"
                }
                """.formatted(System.currentTimeMillis());

            createdTeacherId = given()
                .contentType(ContentType.JSON)
                .body(requestBody)
                .when()
                    .post("/api/teachers")
                .then()
                    .statusCode(201)
                    .body("id", notNullValue())
                    .body("name", equalTo("Test"))
                .extract()
                    .path("id");
        }

        @Test
        @DisplayName("Should return 400 for invalid data")
        void shouldReturn400ForInvalidData() {
            given()
                .contentType(ContentType.JSON)
                .body("""
                    { "name": "" }
                """)
                .when()
                    .post("/api/teachers")
                .then()
                    .statusCode(400);
        }
    }

    @Nested
    @DisplayName("GET /api/teachers/{id}")
    class GetTeacherById {

        @Test
        @DisplayName("Should return teacher by id")
        void shouldReturnTeacherById() {
            given()
                .when()
                    .get("/api/teachers/{id}", createdTeacherId)
                .then()
                    .statusCode(200)
                    .body("id", equalTo(createdTeacherId));
        }

        @Test
        @DisplayName("Should return 404 for non-existing teacher")
        void shouldReturn404ForNonExisting() {
            given()
                .when()
                    .get("/api/teachers/{id}", 999999)
                .then()
                    .statusCode(404);
        }
    }

    @Nested
    @DisplayName("PUT /api/teachers/{id}")
    class UpdateTeacher {

        @Test
        @DisplayName("Should update teacher")
        void shouldUpdateTeacher() {
            given()
                .contentType(ContentType.JSON)
                .body("""
                    {
                        "name": "Updated",
                        "surname": "Teacher",
                        "patronymic": "Testovich",
                        "position": "–ø—Ä–æ—Ñ–µ—Å–æ—Ä"
                    }
                """)
                .when()
                    .put("/api/teachers/{id}", createdTeacherId)
                .then()
                    .statusCode(200)
                    .body("position", equalTo("–ø—Ä–æ—Ñ–µ—Å–æ—Ä"));
        }
    }

    @Nested
    @DisplayName("DELETE /api/teachers/{id}")
    @TestMethodOrder(MethodOrderer.OrderAnnotation.class)
    class DeleteTeacher {

        @Test
        @Order(1)
        @DisplayName("Should delete teacher")
        void shouldDeleteTeacher() {
            given()
                .when()
                    .delete("/api/teachers/{id}", createdTeacherId)
                .then()
                    .statusCode(anyOf(equalTo(200), equalTo(204)));
        }

        @Test
        @Order(2)
        @DisplayName("Should return 404 after deletion")
        void shouldReturn404AfterDeletion() {
            given()
                .when()
                    .get("/api/teachers/{id}", createdTeacherId)
                .then()
                    .statusCode(404);
        }
    }
}
```

#### –ó–∞–ø—É—Å–∫

```bash
./gradlew test --tests "*ApiTest"
```

</details>

---

## –©–æ –º–∞—î –±—É—Ç–∏ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ

```
schedule-testing/
‚îú‚îÄ‚îÄ docs/
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ tests/
‚îÇ   ‚îú‚îÄ‚îÄ unit/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îî‚îÄ‚îÄ api/
‚îÇ       ‚îú‚îÄ‚îÄ postman/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ Schedule_API_Tests.postman_collection.json
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ schedule-local.postman_environment.json
‚îÇ       ‚îú‚îÄ‚îÄ {resource1}.api.test.js     ‚Üê (JS —Ç—Ä–µ–∫)
‚îÇ       ‚îî‚îÄ‚îÄ {resource2}.api.test.js     ‚Üê (JS —Ç—Ä–µ–∫)
‚îî‚îÄ‚îÄ src/test/java/
    ‚îî‚îÄ‚îÄ .../api/
        ‚îú‚îÄ‚îÄ {Resource1}ApiTest.java     ‚Üê (Java —Ç—Ä–µ–∫)
        ‚îî‚îÄ‚îÄ {Resource2}ApiTest.java     ‚Üê (Java —Ç—Ä–µ–∫)
```

---

## –ö—Ä–∏—Ç–µ—Ä—ñ—ó –æ—Ü—ñ–Ω—é–≤–∞–Ω–Ω—è

| –ö—Ä–∏—Ç–µ—Ä—ñ–π | –ë–∞–ª–∏ |
|----------|------|
| **–ß–∞—Å—Ç–∏–Ω–∞ 1: Postman** | |
| –ö–æ–ª–µ–∫—Ü—ñ—è –∑ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—é —Å—Ç—Ä—É–∫—Ç—É—Ä–æ—é (10+ –∑–∞–ø–∏—Ç—ñ–≤) | 4 |
| –¢–µ—Å—Ç–∏ —É Postman (assertions) | 4 |
| Pre-request Scripts —Ç–∞ environment variables | 2 |
| **–ß–∞—Å—Ç–∏–Ω–∞ 2: –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—è** | |
| CRUD-—Ç–µ—Å—Ç–∏ –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ä–µ—Å—É—Ä—Å—É (8+ —Ç–µ—Å—Ç—ñ–≤) | 5 |
| –¢–µ—Å—Ç–∏ –¥–ª—è –¥–æ–¥–∞—Ç–∫–æ–≤–æ–≥–æ —Ä–µ—Å—É—Ä—Å—É (5+ —Ç–µ—Å—Ç—ñ–≤) | 3 |
| –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –¥–∞–Ω–∏—Ö —É –ë–î | 2 |
| **–†–∞–∑–æ–º** | **20** |

---

## –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ñ –ø–∏—Ç–∞–Ω–Ω—è

1. –Ø–∫–∞ —Ä—ñ–∑–Ω–∏—Ü—è –º—ñ–∂ PUT —Ç–∞ PATCH?
2. –ö–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Å—Ç–∞—Ç—É—Å-–∫–æ–¥ 201 vs 200?
3. –Ø–∫ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç–∏ –¥–∞–Ω—ñ –º—ñ–∂ –∑–∞–ø–∏—Ç–∞–º–∏ –≤ Postman?
4. –©–æ —Ç–∞–∫–µ idempotent –º–µ—Ç–æ–¥–∏?
5. –Ø–∫ —Ç–µ—Å—Ç—É–≤–∞—Ç–∏ API, —â–æ –≤–∏–º–∞–≥–∞—î –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó?
6. –ß–æ–º—É –≤–∞–∂–ª–∏–≤–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏ –¥–∞–Ω—ñ –≤ –ë–î, –∞ –Ω–µ —Ç—ñ–ª—å–∫–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—å API?
